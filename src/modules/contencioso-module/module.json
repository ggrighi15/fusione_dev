{
  "name": "contencioso-module",
  "version": "1.0.0",
  "description": "Módulo de Gestão de Processos Judiciais e Administrativos",
  "author": "Fusione Core System",
  "license": "MIT",
  "main": "index.js",
  "type": "core-module",
  "category": "legal",
  "priority": 7,
  "dependencies": {
    "required": [
      "auth-module",
      "pessoas-module",
      "notification-module"
    ],
    "optional": [
      "compliance-module",
      "contratos-module",
      "procuracoes-module"
    ]
  },
  "permissions": {
    "admin": [
      "contencioso:create",
      "contencioso:read",
      "contencioso:update",
      "contencioso:delete",
      "contencioso:manage_all",
      "contencioso:reports",
      "contencioso:config"
    ],
    "advogado": [
      "contencioso:create",
      "contencioso:read",
      "contencioso:update",
      "contencioso:manage_own",
      "contencioso:reports_own"
    ],
    "assistente": [
      "contencioso:read",
      "contencioso:update_limited",
      "contencioso:create_movimentacao"
    ],
    "cliente": [
      "contencioso:read_own"
    ]
  },
  "settings": {
    "processos": {
      "numeracao": {
        "formato": "CONT-AAAA-NNNNNN",
        "sequencial": true,
        "reiniciar_anualmente": true,
        "prefixo_customizavel": true
      },
      "tipos_processo": [
        "Cível",
        "Trabalhista",
        "Criminal",
        "Administrativo",
        "Tributário",
        "Previdenciário",
        "Família",
        "Sucessões",
        "Falência",
        "Recuperação Judicial"
      ],
      "status_processo": [
        "Ativo",
        "Suspenso",
        "Sentenciado",
        "Julgado",
        "Transitado",
        "Arquivado",
        "Baixado"
      ],
      "fases_processuais": [
        "Petição Inicial",
        "Citação",
        "Contestação",
        "Tréplica",
        "Saneamento",
        "Instrução",
        "Alegações Finais",
        "Sentença",
        "Recurso",
        "Execução"
      ]
    },
    "prazos": {
      "alertas_antecedencia": [1, 3, 7, 15, 30],
      "verificacao_automatica": true,
      "intervalo_verificacao": "0 8 * * *",
      "tipos_prazo": [
        "Contestação",
        "Recurso",
        "Manifestação",
        "Cumprimento",
        "Impugnação",
        "Embargos",
        "Alegações Finais",
        "Perícia",
        "Audiência",
        "Outros"
      ],
      "prioridades": [
        "Baixa",
        "Normal",
        "Alta",
        "Crítica"
      ]
    },
    "tribunais": {
      "integracoes": {
        "esaj": {
          "ativo": true,
          "url_base": "https://esaj.tjsp.jus.br",
          "consulta_automatica": true,
          "intervalo_consulta": "0 */6 * * *"
        },
        "pje": {
          "ativo": true,
          "url_base": "https://pje.jus.br",
          "consulta_automatica": true,
          "intervalo_consulta": "0 */6 * * *"
        },
        "projudi": {
          "ativo": false,
          "url_base": "https://projudi.jus.br",
          "consulta_automatica": false
        }
      },
      "tribunais_suportados": [
        "TJSP", "TJRJ", "TJMG", "TJRS", "TJPR", "TJSC", "TJGO",
        "TJBA", "TJPE", "TJCE", "TJDF", "TJMT", "TJMS", "TJPB",
        "TJES", "TJPI", "TJRN", "TJAL", "TJSE", "TJMA", "TJRO",
        "TJAC", "TJAP", "TJRR", "TJTO", "TJAM", "TJPA",
        "TST", "TRT1", "TRT2", "TRT3", "TRT4", "TRT5", "TRT15",
        "STF", "STJ", "TSE", "STM"
      ]
    },
    "audiencias": {
      "tipos_audiencia": [
        "Conciliação",
        "Instrução e Julgamento",
        "Inicial",
        "Interrogatório",
        "Oitiva de Testemunhas",
        "Perícia",
        "Sustentação Oral",
        "Pregão",
        "Outras"
      ],
      "alertas_antecedencia": [1, 7, 15],
      "sincronizacao_calendario": true
    },
    "documentos": {
      "armazenamento": {
        "local": "./storage/contencioso",
        "estrutura": "ano/mes/processo_id",
        "backup_automatico": true
      },
      "tipos_permitidos": [
        ".pdf", ".doc", ".docx", ".jpg", ".jpeg", ".png", ".tiff",
        ".txt", ".rtf", ".odt", ".xls", ".xlsx", ".ppt", ".pptx"
      ],
      "tamanho_maximo": 52428800,
      "versionamento": true,
      "assinatura_digital": true,
      "categorias": [
        "Petição Inicial",
        "Contestação",
        "Tréplica",
        "Sentença",
        "Acórdão",
        "Recurso",
        "Manifestação",
        "Procuração",
        "Documento Pessoal",
        "Prova",
        "Laudo",
        "Outros"
      ]
    },
    "custas": {
      "moeda": "BRL",
      "calculo_automatico": true,
      "integracao_financeiro": true,
      "tipos_custa": [
        "Custas Iniciais",
        "Taxa Judiciária",
        "Honorários Periciais",
        "Porte de Remessa",
        "Porte de Retorno",
        "Diligência",
        "Publicação",
        "Outras"
      ],
      "formas_pagamento": [
        "Dinheiro",
        "Cartão",
        "Transferência",
        "Boleto",
        "PIX",
        "Cheque"
      ]
    },
    "relatorios": {
      "periodicidade_automatica": "mensal",
      "destinatarios_padrao": [],
      "formatos_exportacao": ["pdf", "excel", "csv", "json"],
      "tipos_relatorio": [
        "Processos por Status",
        "Prazos Vencendo",
        "Audiências do Mês",
        "Custas Pendentes",
        "Movimentações por Período",
        "Produtividade por Advogado",
        "Análise de Resultados"
      ]
    },
    "workflow": {
      "aprovacao_processos": false,
      "notificacoes_automaticas": true,
      "delegacao_tarefas": true,
      "controle_acesso_hierarquico": true
    }
  },
  "events": {
    "emitted": [
      "processo:criado",
      "processo:atualizado",
      "processo:arquivado",
      "movimentacao:adicionada",
      "prazo:criado",
      "prazo:vencendo",
      "prazo:vencido",
      "audiencia:agendada",
      "audiencia:realizada",
      "audiencia:cancelada",
      "documento:adicionado",
      "custa:criada",
      "custa:paga",
      "relatorio:gerado"
    ],
    "listened": [
      "pessoa:criada",
      "pessoa:atualizada",
      "documento:uploaded",
      "notification:send",
      "user:login",
      "sistema:backup"
    ]
  },
  "api": {
    "routes": {
      "processos": {
        "GET /api/contencioso/processos": "listarProcessos",
        "GET /api/contencioso/processos/:id": "obterProcesso",
        "POST /api/contencioso/processos": "criarProcesso",
        "PUT /api/contencioso/processos/:id": "atualizarProcesso",
        "DELETE /api/contencioso/processos/:id": "excluirProcesso"
      },
      "movimentacoes": {
        "GET /api/contencioso/processos/:id/movimentacoes": "listarMovimentacoes",
        "POST /api/contencioso/processos/:id/movimentacoes": "adicionarMovimentacao",
        "PUT /api/contencioso/movimentacoes/:id": "atualizarMovimentacao",
        "DELETE /api/contencioso/movimentacoes/:id": "excluirMovimentacao"
      },
      "prazos": {
        "GET /api/contencioso/processos/:id/prazos": "listarPrazos",
        "POST /api/contencioso/processos/:id/prazos": "criarPrazo",
        "PUT /api/contencioso/prazos/:id": "atualizarPrazo",
        "DELETE /api/contencioso/prazos/:id": "excluirPrazo",
        "GET /api/contencioso/prazos/vencendo": "listarPrazosVencendo"
      },
      "audiencias": {
        "GET /api/contencioso/processos/:id/audiencias": "listarAudiencias",
        "POST /api/contencioso/processos/:id/audiencias": "agendarAudiencia",
        "PUT /api/contencioso/audiencias/:id": "atualizarAudiencia",
        "DELETE /api/contencioso/audiencias/:id": "cancelarAudiencia"
      },
      "partes": {
        "GET /api/contencioso/processos/:id/partes": "listarPartes",
        "POST /api/contencioso/processos/:id/partes": "adicionarParte",
        "PUT /api/contencioso/partes/:id": "atualizarParte",
        "DELETE /api/contencioso/partes/:id": "removerParte"
      },
      "documentos": {
        "GET /api/contencioso/processos/:id/documentos": "listarDocumentos",
        "POST /api/contencioso/processos/:id/documentos": "adicionarDocumento",
        "GET /api/contencioso/documentos/:id/download": "baixarDocumento",
        "DELETE /api/contencioso/documentos/:id": "excluirDocumento"
      },
      "custas": {
        "GET /api/contencioso/processos/:id/custas": "listarCustas",
        "POST /api/contencioso/processos/:id/custas": "adicionarCusta",
        "PUT /api/contencioso/custas/:id": "atualizarCusta",
        "POST /api/contencioso/custas/:id/pagamento": "registrarPagamento"
      },
      "relatorios": {
        "GET /api/contencioso/relatorios": "listarRelatorios",
        "POST /api/contencioso/relatorios/gerar": "gerarRelatorio",
        "GET /api/contencioso/relatorios/:id": "obterRelatorio",
        "GET /api/contencioso/relatorios/:id/download": "baixarRelatorio"
      },
      "dashboard": {
        "GET /api/contencioso/dashboard": "obterDashboard",
        "GET /api/contencioso/estatisticas": "obterEstatisticas"
      },
      "tribunais": {
        "POST /api/contencioso/tribunais/consultar": "consultarTribunal",
        "GET /api/contencioso/tribunais/configuracoes": "obterConfiguracoesTribunais",
        "PUT /api/contencioso/tribunais/configuracoes": "atualizarConfiguracoesTribunais"
      }
    }
  },
  "database": {
    "tables": [
      "processos",
      "processo_partes",
      "processo_movimentacoes",
      "processo_prazos",
      "processo_audiencias",
      "processo_documentos",
      "processo_custas",
      "processo_historico"
    ],
    "indexes": [
      "idx_processos_numero",
      "idx_processos_status",
      "idx_processos_cliente",
      "idx_processos_advogado",
      "idx_prazos_vencimento",
      "idx_audiencias_data",
      "idx_movimentacoes_data"
    ]
  },
  "requirements": {
    "node_version": ">=16.0.0",
    "dependencies": {
      "express": "^4.18.0",
      "multer": "^1.4.5",
      "moment": "^2.29.4",
      "node-cron": "^3.0.2",
      "pdf-lib": "^1.17.1",
      "xlsx": "^0.18.5",
      "cheerio": "^1.0.0-rc.12",
      "axios": "^1.4.0",
      "crypto": "^1.0.1",
      "fs-extra": "^11.1.1"
    },
    "optional_dependencies": {
      "puppeteer": "^20.0.0",
      "sharp": "^0.32.0",
      "tesseract.js": "^4.0.0"
    }
  },
  "scripts": {
    "test": "jest tests/contencioso",
    "lint": "eslint src/modules/contencioso-module",
    "docs": "jsdoc src/modules/contencioso-module -d docs/contencioso"
  },
  "monitoring": {
    "metrics": [
      "processos_criados",
      "prazos_vencidos",
      "audiencias_realizadas",
      "documentos_adicionados",
      "consultas_tribunais",
      "tempo_resposta_api"
    ],
    "alerts": [
      "prazo_vencendo",
      "audiencia_proxima",
      "erro_consulta_tribunal",
      "processo_sem_movimentacao"
    ]
  },
  "security": {
    "encryption": {
      "documentos_sensiveis": true,
      "dados_pessoais": true,
      "algorithm": "AES-256-GCM"
    },
    "audit": {
      "log_all_actions": true,
      "retention_period": "7_years",
      "compliance": ["LGPD", "Marco_Civil"]
    },
    "access_control": {
      "role_based": true,
      "process_based": true,
      "time_based": false
    }
  },
  "integrations": {
    "tribunais": {
      "esaj": {
        "version": "2.0",
        "authentication": "certificate",
        "rate_limit": "100/hour"
      },
      "pje": {
        "version": "2.0",
        "authentication": "oauth2",
        "rate_limit": "200/hour"
      }
    },
    "external_apis": {
      "receita_federal": {
        "cnpj_validation": true,
        "cpf_validation": true
      },
      "correios": {
        "cep_lookup": true,
        "tracking": true
      }
    }
  },
  "compliance": {
    "frameworks": [
      "LGPD",
      "Marco Civil da Internet",
      "Código de Processo Civil",
      "Estatuto da Advocacia"
    ],
    "certifications": [
      "ICP-Brasil",
      "ITI"
    ]
  }
}